2024-03-15T14:16:33.802Z
cwd: ~/Documents/Code/how-many-in-uk
package: govuk-prototype-kit@13.16.1
argv: /usr/local/bin/node ~/.npm/_npx/751a68202a4807b7/node_modules/.bin/govuk-prototype-kit migrate
Started [Check migration is being applied to a pre v13 prototype]
Succeeded [Check migration is being applied to a pre v13 prototype]
2024-03-15T14:16:48.259Z
cwd: ~/Documents/Code/how-many-in-uk
package: govuk-prototype-kit@13.16.1
argv: /usr/local/bin/node ~/Documents/Code/how-many-in-uk/node_modules/.bin/govuk-prototype-kit migrate -- ~/Documents/Code/how-many-in-uk
Started [Migrate config.js to config.json]
Started [Update application SCSS file]
Started [Deleted files that are no longer needed]
Started [Deleted directories that are no longer needed]
Started [Delete listen-on-port.js]
Started [Delete server.js]
Started [Delete gulpfile.js]
Started [Delete start.js]
Started [Delete Procfile]
Started [Delete app/assets/sass/unbranded-ie8.scss]
Started [Delete app/assets/sass/application-ie8.scss]
Started [Delete VERSION.txt]
Started [Remove unused directory docs]
Started [Remove unused directory lib]
Started [Remove unused directory gulp]
Succeeded [Migrate config.js to config.json]
Succeeded [Delete listen-on-port.js]
Succeeded [Delete server.js]
Succeeded [Delete gulpfile.js]
Succeeded [Delete start.js]
Succeeded [Delete VERSION.txt]
Succeeded [Delete app/assets/sass/unbranded-ie8.scss]
Succeeded [Delete Procfile]
Succeeded [Delete app/assets/sass/application-ie8.scss]
Succeeded [Deleted files that are no longer needed]
Found [// Add your routes here - above the module.exports line] in [app/routes.js], replacing
Started [Overwrite app/assets/javascripts/application.js]
Started [Overwrite app/filters.js]
Started [Overwrite app/views/layout.html]
Keeping these lines from old file
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/assets/javascripts/application.js] to [app/assets/javascripts/application.js]
Found [// Add extra styles here, or re-organise the Sass files in whichever way makes most sense to you] in [app/assets/sass/application.scss], replacing
Started [Delete app/assets/images/unbranded.ico]
Started [Delete app/assets/javascripts/auto-store-data.js]
Started [Delete app/assets/images/separator-2x.png]
Started [Delete app/assets/images/separator.png]
Started [Delete app/assets/sass/unbranded.scss]
Started [Delete app/views/includes/breadcrumb_examples.html]
Started [Delete app/views/includes/head.html]
Started [Delete app/views/includes/scripts.html]
Started [Delete app/assets/sass/patterns/_related-items.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-header.scss]
Started [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Started [Delete app/assets/sass/patterns/_task-list.scss]
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/filters.js] to [app/filters.js]
Copying from [node_modules/govuk-prototype-kit/prototype-starter/app/views/layouts/main.html] to [app/views/layout.html]
Started [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Started [Delete app/views/layout_unbranded.html]
Keeping these lines from old file
Failed [Delete app/assets/sass/unbranded.scss]
Succeeded [Remove unused directory gulp]
Failed [Delete app/views/layout_unbranded.html]
Succeeded [Delete app/assets/images/unbranded.ico]
Succeeded [Delete app/assets/javascripts/auto-store-data.js]
Succeeded [Delete app/assets/images/separator-2x.png]
Succeeded [Delete app/assets/images/separator.png]
Succeeded [Delete app/assets/sass/patterns/_related-items.scss]
Succeeded [Delete app/views/includes/breadcrumb_examples.html]
Succeeded [Delete app/views/includes/head.html]
Succeeded [Delete app/views/includes/scripts.html]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-nav.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-header.scss]
Succeeded [Delete app/assets/sass/patterns/_task-list.scss]
Succeeded [Delete app/assets/sass/patterns/_step-by-step-related.scss]
Succeeded [Update application SCSS file]
Started [Delete app/assets/javascripts/jquery-1.11.3.js]
//,// For guidance on how to create routes see:,// https://prototype-kit.service.gov.uk/docs/create-routes,//,,const govukPrototypeKit = require('govuk-prototype-kit'),const router = govukPrototypeKit.requests.setupRouter(),,// Add your routes here,,,// Initialise the start page and hide errors,router.get('/index', function(req, res) {,    res.render('index', {,      'errorMessage' : null,,      'errorTitle' : "",,      'errorSummary' : false,    }),});,,// Check for errors from the form and display error messages if needed,// If no errors send to nice URL to display as /people/nnnnn,router.get('/check', function(req, res) {,,    var peopletotal = req.query.peopletotal.replace(/,/g, '') // remove any commas,,    // Check if nothing entered,    if(peopletotal.trim()==""){,      res.render('index', {,        'errorMessage' : {text: "Enter the number of people who will use your website"},,        'errorTitle' : "Error - ",,        'errorSummary' : true,      }),      return 0,    },,    // Check if it's not a number,    if(isNaN(peopletotal)){,      res.render('index', {,        'errorMessage' : {text: "Enter a number"},,        'errorTitle' : "Error - ",,        'errorSummary' : true,      }),      return 0,    },,    // Convert to an integer,    peopletotal = parseInt(peopletotal, 10),,    if (peopletotal>67000001){,      res.render('index', {,        'errorMessage' : {text: "Total number of people must be 67 million or fewer"},,        'errorTitle' : "Error - ",,        'errorSummary' : true,      }),    } else if (peopletotal<=99){,      res.render('index', {,        'errorMessage' : {text: "Total number of people must be 100 or more"},,        'errorTitle' : "Error - ",,        'errorSummary' : true,      }),    } else {,      res.redirect('/people/'+peopletotal),    },,});,,// If no errors send to nice URL to display as /people/nnnnn,// This URL can also be used directly,// The regular expression allows only numbers between 3 and 8 digits long,router.get('/people/:num([0-9]{3,8})', function(req, res) {,,    var peopletotal = req.params.num,,    peopletotal = parseInt(peopletotal, 10),,    res.render('results', {,      'peopleTotalDisplay' : peopletotal.toLocaleString('en'),,      'glassesContactsNum' : Math.ceil(peopletotal * glassesContactsPC).toLocaleString('en'),,      'disabledTotalNum' : Math.ceil(peopletotal * disabledTotalPC).toLocaleString('en'),,      'readingLevel11YearsNum' : Math.ceil(peopletotal * readingLevel11YearsPC).toLocaleString('en'),,      'deafNum' : Math.ceil(peopletotal * deafPC).toLocaleString('en'),,      'dyslexiaNum' : Math.ceil(peopletotal * dyslexiaPC).toLocaleString('en'),,      'colourBlindnessNum' : Math.ceil(peopletotal * colourBlindnessPC).toLocaleString('en'),,      'colourBlindnessMaleNum' : Math.ceil(peopletotal * colourBlindnessPCMale).toLocaleString('en'),,      'colourBlindnessFemaleNum' : (Math.ceil(peopletotal * colourBlindnessPC) - Math.ceil(peopletotal * colourBlindnessPCMale)).toLocaleString('en'),,      'blindNum' : Math.ceil(peopletotal * blindPC).toLocaleString('en'),,      'autisticNum' : Math.ceil(peopletotal * autisticPC).toLocaleString('en'),,      'bslNum' : Math.ceil(peopletotal * bslPC).toLocaleString('en'),    }),,});,,// About page averages,router.get('/about', function(req, res) {,,  function round2PC(value) {,    return Math.round(value * 1000) / 10;,  },,  res.render('about', {,    'glassesContactsAv' : round2PC( glassesContactsPC ),,    'disabledTotalAv' : round2PC( disabledTotalPC ),,    'readingLevel11YearsAv' : round2PC( readingLevel11YearsPC ),,    'deafAv' : round2PC( deafPC ),,    'dyslexiaAv' : round2PC( dyslexiaPC ),,    'colourBlindnessAv' : round2PC( colourBlindnessPC ),,    'blindAv' : round2PC( blindPC ),,    'autisticAv' : round2PC( autisticPC ),,    'bslNumAv' : round2PC( bslPC ),  }),,});,,module.exports = router,
Found [module.exports = router;,module.exports = router] in [app/routes.js], removing
Succeeded [Remove unused directory lib]
Succeeded [Delete app/assets/javascripts/jquery-1.11.3.js]
Succeeded [Update routes file]
Succeeded [Remove unused directory docs]
Succeeded [Overwrite app/filters.js]
Succeeded [Overwrite app/views/layout.html]
Succeeded [Deleted directories that are no longer needed]
Succeeded [Overwrite app/assets/javascripts/application.js]
Started [Remove old pattern includes from application SCSS file]
Succeeded [Remove old pattern includes from application SCSS file]
Started [Remove empty directory app/assets/sass/patterns]
Started [Remove empty directory app/assets/images]
Started [Remove empty directory app/views/includes]
Skipped deleting app/assets/images
Succeeded [Remove empty directory app/assets/sass/patterns]
Succeeded [Remove empty directory app/views/includes]
